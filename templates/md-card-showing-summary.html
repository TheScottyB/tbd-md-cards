<style>
   .showing-scroller {

       max-height: 300px;
       overflow-y:  scroll;
   }


</style>

<md-card id="md-card" ng-show="showings.length > 0">

    <div layout="row" layout-align="space-around center" style="padding: 10px">

        <div class="md-card-left-of-image">

            <table ng-show='listing.activitySummary[0].est_currentValue != undefined'>

                <thead>

                </thead>

                <div style="overflow: hidden; height: 100%"
                     ng-show='listing.activitySummary[0].est_currentValue != undefined'>
                    <tbody>

                    <tr>
                        <td colspan="2" class="card-section-label">estimations</td>
                    </tr>

                    <tr class="data-row">
                        <td class="card-data-label">current value</td>
                        <td class="data">{{listing.activitySummary[0].est_currentValue | currency:"$":0 }}
                            <md-icon class="negative-color"
                                     ng-show="listing.activitySummary[0].est_thirtyDayChange < 0"
                                     md-svg-src="/assets/icons/ic_trending_down_black_18px.svg"></md-icon>

                            <md-icon class=""
                                     ng-show="listing.activitySummary[0].est_thirtyDayChange >= 0"
                                     md-svg-src="/assets/icons/ic_trending_up_black_18px.svg"></md-icon>
                        </td>
                    </tr>
                    <tr class="data-row" ng-show='listing.activitySummary[0].est_thirtyDayChange'>
                        <td class="card-data-label">thirty-day change</td>
                        <td class="data"
                            ng-class="listing.activitySummary[0].est_thirtyDayChange < 0  ? 'negative-color' : ''">
                            {{listing.activitySummary[0].est_thirtyDayChange | currency:"$":0 }}
                        </td>
                    </tr>

                    <tr class="data-row" ng-show='listing.activitySummary[0].est_highRange'>
                        <td class="card-data-label">high range</td>
                        <td class="data">{{listing.activitySummary[0].est_highRange | currency:"$":0 }}</td>
                    </tr>
                    <tr class="data-row" ng-show='listing.activitySummary[0].est_lowRange'>
                        <td class="card-data-label">low range</td>
                        <td class="data">{{listing.activitySummary[0].est_lowRange | currency:"$":0 }}</td>
                    </tr>

                    </tbody>
                </div>

            </table>

            <!--  -->
            <!--{{listing.activitySummary[0].listing_views_totalCnt}}-->

            <!--as of  {{listing.activitySummary[0].t.time | date:"EEEE, MMM d - h:m a" }}-->


        </div>



        <!-- show the proper value for days on even when we only have list_ts (listing date) by using -->
        <div id="md-card-image">
            <div ng-show='listing.activitySummary[0].listing_daysOn != undefined' class="logo-caption">
                {{listing.activitySummary[0].listing_daysOn}} Days On
            </div>
            <div ng-show='listing.activitySummary[0].listing_ts != undefined' class="logo-caption">
                {{listing.activitySummary[0].listing_ts | makeDaysOn}} Days On
            </div>
        </div>


    </div>

    <md-card-content id="showingScroller">

        <h2>{{title}}</h2>

        <!--<a href="#" ng-model="collapsed" ng-click="collapsed=!collapsed">Click here to <strong>Toggle (show/hide)</strong> description</a>-->

    </md-card-content>

    <div class="md-actions" layout="row" layout-align="end center">


        <md-button class=" md-accent" ng-model="collapsed" ng-click="collapsed=!collapsed">
            <!--  <md-icon icon="http://google.github.io/material-design-icons/notification/svg/ic_sync_48px.svg">
             </md-icon> -->
            <md-icon ng-show='collapsed' class="s36" md-svg-src="/assets/icons/ic_expand_more_black_48px.svg"></md-icon>
            <md-icon ng-show='!collapsed' class="s36"  md-svg-src="/assets/icons/ic_expand_less_black_48px.svg"></md-icon>
        </md-button>
        <!--<md-button>Action 1</md-button>-->
        <!--<md-button>Action 2</md-button>-->
    </div>

    <md-list class="showing-scroller" ng-show="collapsed==false" >

        <md-list-item class="md-3-line" ng-repeat="showing in showings">

            <i class="mdi mdi-comment-text md-accent  md-avatar s36" ng-class="{ 'negative': showing.sentiment < -5, 'positive': showing.sentiment > 3}"></i>

            <div class="md-list-item-text">

                <h3 class="order-address">{{showing.date}}  - {{showing.contact.name}}</h3>

                <h4>
                    {{showing.feedback}}
                </h4>

            </div>

            <md-divider> </md-divider>

        </md-list-item>

    </md-list>

</md-card>
<!--

"activitySummary":[
{
"est_rentLowRange":"1",
"prop_views_totalCnt":"766",
"est_highRange":"277",
"status":"For Sale",
"listing_mlsId":"08990196",
"est_thirtyDayChange":"-677",
"listing_views_totalCnt":"591",
"est_rent":"1994",
"est_rentHighRange":"2",
"t":{
    "time":1440105194147,
    "minutes":13,
    "seconds":14,
    "hours":16,
    "month":7,
    "timezoneOffset":300,
    "year":115,
    "day":4,
    "date":20
},
"address":"11521 N BURLINGTON RD RICHMOND, IL 60071",
"listing_id":"4F134C97-4E33-45AC-AB89-8A36CB072DDC",
"listing_daysOn":"27",
"est_rentThirtyDayChange":"5",
"est_lowRange":"238",
"mls_id":"08990196",
"extSysId":3,
"listing_trend":null,
"est_currentValue":"256344",
"prop_prefs_favoritesCnt":"14"
}
],
"success":true
-->
